<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <title>Gestión de Departamentos</title>
</head>

<body>
    <header>
        <h1>Sistema de Gestión</h1>
    </header>
    <main>
        <section class="section-container">
            <h1>Gestor de Departamentos</h1>
            <p>Bienvenido al gestor de departamentos</p>
        </section>

        <section class="departamentos-section">
            <h2>Departamentos</h2>
            <div class="departamentos-tabs">
                <button class="tab active" data-tab="view-departamentos">Ver Departamentos</button>
                <button class="tab" data-tab="add-departamento">Agregar Departamento</button>
                <button class="tab" data-tab="edit-departamento">Editar Departamento</button>
                <button class="tab" data-tab="manage-miembros">Gestionar Miembros</button>
            </div>
            <div class="departamentos-content">

                <div id="view-departamentos" class="tab-content active">
                    <h2>Departamentos</h2>
                    <table id="departamentos-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th># Miembros</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="departamentos-list">
                        </tbody>
                    </table>
                </div>

                <div id="add-departamento" class="tab-content">
                    <h2>Agregar Departamento</h2>
                    <form id="departamento-form">
                        <div class="form-group">
                            <!-- Consider using consistent class names like 'form-group' if used elsewhere -->
                            <label for="id-departamento">ID:</label>
                            <input type="text" id="id-departamento" required>
                        </div>
                        <div class="form-group"> <!-- Consider using consistent class names -->
                            <label for="nombre-departamento">Nombre:</label>
                            <input type="text" id="nombre-departamento" required>
                        </div>
                        <button type="submit">Guardar Departamento</button>
                    </form>
                </div>

                <div id="edit-departamento" class="tab-content">
                    <h2>Editar Departamento</h2>
                    <!-- It's good practice to have a select here to choose which department to edit, which would then populate the form -->
                    <!-- <select id="departamento-edit-select"><option>Select department...</option></select> -->
                    <form id="edit-departamento-form">
                        <div class="form-group"> <!-- Consider using consistent class names -->
                            <label for="edit-id-departamento" class="readonly">ID:</label>
                            <input type="text" id="edit-id-departamento" readonly>
                        </div>
                        <div class="form-group"> <!-- Consider using consistent class names -->
                            <label for="edit-nombre-departamento">Nombre:</label>
                            <input type="text" id="edit-nombre-departamento" required>
                        </div>

                        <div class="form-group">
                        <label for="departamento-select-editar">Seleccionar Departamento:</label>
                        <select id="departamento-select-editar">
                         <option value="">Seleccione un departamento...</option>
                        </select>
                        </div>


                        <button type="submit">Guardar Cambios</button>
                        <button type="button" id="delete-departamento">Eliminar Departamento</button>
                    </form>
                </div>

                <div id="manage-miembros" class="tab-content">
                    <h2>Gestionar Miembros del Departamento</h2>
                    <div>
                        <label for="departamento-select-miembros">Seleccionar Departamento:</label>
                        <select id="departamento-select-miembros">
                            <option value="">Seleccione un departamento...</option>
                        </select>
                    </div>

                    <div id="miembros-gestion-area" style="display: none;">
                        <h3>Miembros del Departamento: <span id="nombre-departamento-miembros"></span></h3>
                        <ul id="miembros-list">
                        </ul>

                        <h3>Agregar Miembro:</h3>
                        <div class="form-group"> <!-- Consider using consistent class names -->
                            <label for="persona-select-miembros">Seleccionar Persona:</label>
                            <select id="persona-select-miembros">
                                <option value="">Seleccione una persona...</option>
                            </select>
                            <button type="button" id="agregar-miembro-btn">Agregar Miembro</button>
                        </div>

                        <h3>Eliminar Miembro:</h3>
                        <div class="form-group"> <!-- Consider using consistent class names -->
                            <label for="miembro-a-eliminar-select">Seleccionar Miembro a Eliminar:</label>
                            <select id="miembro-a-eliminar-select">
                                <option value="">Seleccione un miembro...</option>
                            </select>
                            <button type="button" id="eliminar-miembro-btn">Eliminar Miembro</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Sistema de Gestión</p>
    </footer>
    <script src="js/Departamento.js" defer></script>
    <script src="js/GestorDepartamentos.js" defer></script>
    <script src="js/controlDepartamentos.js" defer></script>
    <script>
        // Script para tabs (puedes moverlo a un archivo aparte si prefieres, e.g., into controlDepartamentos.js or a general ui.js)
        document.addEventListener('DOMContentLoaded', function () {
            const tabButtons = document.querySelectorAll('.departamentos-tabs .tab[data-tab]');
            const tabContents = document.querySelectorAll('.departamentos-content .tab-content');

            tabButtons.forEach(tabButton => {
                tabButton.addEventListener('click', () => {
                    // Deactivate all tabs and content
                    tabButtons.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));

                    // Activate clicked tab and corresponding content
                    tabButton.classList.add('active');
                    const targetContentId = tabButton.dataset.tab;
                    const targetContent = document.getElementById(targetContentId);
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>

</html>